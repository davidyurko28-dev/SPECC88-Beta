<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width,initial-scale=1"/>
  <title>SPEC88 • Universal Agent Builder</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700;800&display=swap" rel="stylesheet">
  <style>
    :root { --bg:#090E16; --bg2:#0A2540; --accent:#2EF7D0; --muted:rgba(255,255,255,.70); }
    *{box-sizing:border-box} body{font-family:'Inter',system-ui,Arial;background:
    radial-gradient(1300px 900px at 10% -10%,#112B4E,var(--bg2)) no-repeat,var(--bg);color:#fff}
    .glass{background:rgba(255,255,255,.06);border:1px solid rgba(255,255,255,.12);backdrop-filter:saturate(160%) blur(10px)}
    .soft{box-shadow:0 10px 40px rgba(0,0,0,.35)} .accent{background:linear-gradient(135deg,var(--accent),#86FFE8); color:#071523}
    .muted{color:var(--muted)} .code{font-family:ui-monospace,Menlo,Consolas,monospace} .copy{cursor:pointer}
  </style>
</head>
<body>
  <!-- Header -->
  <header class="sticky top-0 z-30 border-b border-white/10 bg-black/30 backdrop-blur">
    <div class="mx-auto flex max-w-7xl items-center justify-between px-4 py-3">
      <div class="flex items-center gap-3">
        <div class="h-9 w-9 rounded-2xl accent grid place-items-center font-extrabold">S</div>
        <div class="text-lg font-semibold tracking-tight">SPEC88 • Universal Agents</div>
        <span class="hidden md:inline text-xs rounded-full border border-white/10 bg-white/10 px-2.5 py-1 ml-2">No pre-set tools. Fully generic.</span>
      </div>
      <a href="./" class="glass rounded-xl px-3 py-1.5 text-sm hover:bg-white/10">← Back to landing</a>
    </div>
  </header>

  <!-- Hero -->
  <section class="mx-auto max-w-7xl px-4 pt-10 pb-6">
    <div class="grid gap-6 md:grid-cols-5">
      <div class="md:col-span-3">
        <h1 class="text-3xl md:text-5xl font-extrabold leading-tight">
          Build <span class="text-[var(--accent)]">AI Agents</span> in any direction
        </h1>
        <p class="muted mt-3 max-w-2xl">
          Describe your goal once. SPEC88 plans capabilities, constraints and deliverables — from research to UIs, workflows and messaging. No single‑tool limits.
        </p>
      </div>
      <div class="md:col-span-2 glass soft rounded-2xl p-4">
        <div class="text-sm font-semibold text-white/80 mb-2">Prompt Coach</div>
        <div class="text-sm">
          <div class="border-l-4 border-[var(--accent)] pl-3">
            <p class="mb-2"><b>1)</b> <u>Outcome</u>: Was soll konkret passieren?</p>
            <p class="mb-2"><b>2)</b> <u>Capabilities</u>: Welche Fähigkeiten braucht der Agent (frei beschreiben)?</p>
            <p class="mb-2"><b>3)</b> <u>Constraints</u>: Regeln, Compliance, Ton, Limits.</p>
            <p class="mb-0"><b>4)</b> <u>Deliverables</u>: Welche Ergebnisse möchtest du sehen (frei: UIs, Docs, Flows, APIs, Mails …)?</p>
          </div>
          <p class="muted mt-3">Wenn dir Formulierungen schwerfallen, frag kurz <b>ChatGPT</b> um einen strukturierten Prompt – kopiere ihn hier rein.</p>
        </div>
      </div>
    </div>
  </section>

  <!-- Main -->
  <main class="mx-auto max-w-7xl px-4 pb-12 grid gap-6 lg:grid-cols-5">
    <!-- Builder -->
    <section class="lg:col-span-3 glass soft rounded-2xl p-5">
      <div class="flex items-center justify-between mb-2">
        <h2 class="text-lg font-semibold text-white/80">Create your Agent</h2>
        <div class="text-xs muted">Local preview (no server calls)</div>
      </div>

      <div class="grid gap-4">
        <!-- Identity -->
        <div class="grid md:grid-cols-3 gap-3">
          <div>
            <label class="block text-xs uppercase tracking-wide text-white/60 mb-1">Business / Project</label>
            <input id="biz" class="w-full rounded-xl border border-white/10 bg-black/30 px-3 py-2" placeholder="e.g., SPEC88 Client A"/>
          </div>
          <div>
            <label class="block text-xs uppercase tracking-wide text-white/60 mb-1">Domain</label>
            <input id="domain" class="w-full rounded-xl border border-white/10 bg-black/30 px-3 py-2" placeholder="any: fintech, retail, ops, hr, crm …"/>
          </div>
          <div>
            <label class="block text-xs uppercase tracking-wide text-white/60 mb-1">Contact (optional)</label>
            <input id="email" class="w-full rounded-xl border border-white/10 bg-black/30 px-3 py-2" placeholder="you@business.com"/>
          </div>
        </div>

        <!-- Generic spec: no presets -->
        <div>
          <label class="block text-xs uppercase tracking-wide text-white/60 mb-1">Outcome (what must happen?)</label>
          <textarea id="outcome" rows="3" class="w-full rounded-xl border border-white/10 bg-black/30 px-3 py-2"
            placeholder="Example: Launch a reservation & waitlist system that confirms via email/SMS, prevents double-bookings and exports daily schedule."></textarea>
        </div>
        <div class="grid md:grid-cols-2 gap-3">
          <div>
            <label class="block text-xs uppercase tracking-wide text-white/60 mb-1">Capabilities (freeform)</label>
            <textarea id="capabilities" rows="4" class="w-full rounded-xl border border-white/10 bg-black/30 px-3 py-2"
              placeholder="understand intent • parse forms • call external APIs • summarize docs • generate UI • draft emails • schedule tasks"></textarea>
          </div>
          <div>
            <label class="block text-xs uppercase tracking-wide text-white/60 mb-1">Constraints (rules & limits)</label>
            <textarea id="constraints" rows="4" class="w-full rounded-xl border border-white/10 bg-black/30 px-3 py-2"
              placeholder="GDPR‑compliant • no PII logging • professional & concise tone • fallback if API fails"></textarea>
          </div>
        </div>
        <div>
          <label class="block text-xs uppercase tracking-wide text-white/60 mb-1">Deliverables (freeform)</label>
          <textarea id="deliverables" rows="3" class="w-full rounded-xl border border-white/10 bg-black/30 px-3 py-2"
            placeholder="UI mock (HTML snippet) • workflow plan • email sequence • API schema • deployment checklist"></textarea>
        </div>

        <!-- Model / Tone (display only) -->
        <div class="grid md:grid-cols-2 gap-3">
          <div>
            <label class="block text-xs uppercase tracking-wide text-white/60 mb-1">Model (display)</label>
            <select id="model" class="w-full rounded-xl border border-white/10 bg-black/30 px-3 py-2">
              <option>gpt-4.1-mini</option><option>gpt-4.1</option><option>gpt-4o</option>
              <option>mistral-large</option><option>llama-3.1</option>
            </select>
          </div>
          <div>
            <label class="block text-xs uppercase tracking-wide text-white/60 mb-1">Tone</label>
            <select id="tone" class="w-full rounded-xl border border-white/10 bg-black/30 px-3 py-2">
              <option>Professional</option><option>Friendly</option><option>Concise</option><option>Technical</option>
            </select>
          </div>
        </div>

        <!-- Compose / Preview -->
        <div class="grid md:grid-cols-2 gap-3">
          <div>
            <button id="compose" class="accent rounded-xl px-4 py-2 font-semibold hover:opacity-90 transition">Compose Prompt</button>
            <span id="status" class="ml-3 text-sm muted"></span>
            <textarea id="prompt" rows="10" class="mt-2 w-full rounded-xl border border-white/10 bg-black/30 px-3 py-2 code"
              placeholder='Structured prompt will appear here…'></textarea>
            <div class="mt-2 flex gap-2">
              <button data-copy="#prompt" class="copy glass rounded-xl px-3 py-1.5 text-sm hover:bg-white/10">Copy Prompt</button>
              <a id="openChat" target="_blank" class="glass rounded-xl px-3 py-1.5 text-sm hover:bg-white/10">Open in ChatGPT</a>
            </div>
          </div>
          <div>
            <button id="previewBtn" class="accent rounded-xl px-4 py-2 font-semibold hover:opacity-90 transition">Generate Preview</button>
            <div id="saveLoad" class="mt-2 flex flex-wrap gap-2">
              <button id="save" class="glass rounded-xl px-3 py-1.5 text-sm hover:bg-white/10">Save Agent</button>
              <button id="exportJson" class="glass rounded-xl px-3 py-1.5 text-sm hover:bg-white/10">Export JSON</button>
              <button id="exportHtml" class="glass rounded-xl px-3 py-1.5 text-sm hover:bg-white/10">Export HTML</button>
            </div>
          </div>
        </div>

        <!-- PREVIEW -->
        <div id="preview" class="hidden mt-4 grid gap-4">
          <div class="glass rounded-2xl p-4">
            <div class="flex items-center justify-between">
              <div class="text-sm font-semibold text-white/80">Agent Plan (Summary)</div>
              <button data-copy="#sum" class="copy glass rounded-md px-2 py-1 text-xs hover:bg-white/10">Copy</button>
            </div>
            <pre id="sum" class="code text-sm whitespace-pre-wrap"></pre>
          </div>

          <div class="glass rounded-2xl p-4">
            <div class="text-sm font-semibold text-white/80 mb-2">Phases & Steps</div>
            <ol id="steps" class="list-decimal pl-5 text-sm"></ol>
          </div>

          <div id="uiWrap" class="glass rounded-2xl p-4">
            <div class="flex items-center justify-between">
              <div class="text-sm font-semibold text-white/80">UI Snippet (HTML)</div>
              <button data-copy="#uiHtml" class="copy glass rounded-md px-2 py-1 text-xs hover:bg-white/10">Copy</button>
            </div>
            <div id="uiMount" class="mt-3"></div>
            <textarea id="uiHtml" class="mt-3 w-full code text-xs rounded-xl border border-white/10 bg-black/30 p-2" rows="6" readonly></textarea>
          </div>

          <div id="docWrap" class="glass rounded-2xl p-4">
            <div class="text-sm font-semibold text-white/80 mb-2">Documentation Draft</div>
            <div id="doc" class="text-sm leading-relaxed"></div>
          </div>
        </div>
      </div>
    </section>

    <!-- Saved / Examples -->
    <aside class="lg:col-span-2 grid gap-6">
      <section class="glass soft rounded-2xl p-5">
        <div class="flex items-center justify-between">
          <h3 class="text-lg font-semibold text-white/90">Saved Agents</h3>
          <button id="clearAll" class="glass rounded-md px-2 py-1 text-xs hover:bg-white/10">Clear all</button>
        </div>
        <div id="saved" class="mt-3 grid gap-3"></div>
      </section>

      <section class="glass soft rounded-2xl p-5">
        <h3 class="text-lg font-semibold text-white/90">Example (universal)</h3>
        <button id="example" class="mt-3 glass rounded-xl p-3 text-left hover:bg-white/10 transition text-sm">
          Create a cross‑channel growth agent that researches competitors, drafts landing copy, generates a contact form, and prepares a 3‑email sequence. Respect GDPR, keep tone concise & professional. Deliverables: HTML UI snippet, workflow plan, email drafts, deploy checklist.
        </button>
      </section>
    </aside>
  </main>

  <footer class="mx-auto max-w-7xl px-4 pb-10 text-center text-xs text-white/60">
    © <span id="year"></span> SPEC88 – Universal Agents.
  </footer>

  <script>
    const $ = (s)=>document.querySelector(s); const $$=(s)=>Array.from(document.querySelectorAll(s));
    const val=(id)=>document.getElementById(id).value.trim(); const set=(el,txt)=>el.textContent=txt;
    const html=(el,txt)=>el.innerHTML=txt; const uid=()=>Math.random().toString(36).slice(2,10);
    const dl=(name,txt)=>{const b=new Blob([txt],{type:'text/plain'});const a=document.createElement('a');a.href=URL.createObjectURL(b);a.download=name;a.click();setTimeout(()=>URL.revokeObjectURL(a.href),1000);};
    document.getElementById('year').textContent=new Date().getFullYear();

    // Example fills the freeform fields
    $('#example').addEventListener('click', ()=>{
      $('#outcome').value='Drive leads from research → copy → UI → email. Must be GDPR‑compliant and measurable.';
      $('#capabilities').value='competitive research • summarize findings • generate UI • draft emails • outline workflow • propose KPIs';
      $('#constraints').value='concise tone • GDPR compliant • no PII storage • graceful fallback if source missing';
      $('#deliverables').value='UI snippet • workflow plan • 3 email drafts • deploy checklist';
      window.scrollTo({top:0,behavior:'smooth'});
    });

    // Compose Prompt
    $('#compose').addEventListener('click', ()=>{
      const data={
        business:{ name:val('biz')||'Project', domain:val('domain')||'general', contact:val('email')||'' },
        outcome:val('outcome')||'Define the concrete outcome.',
        capabilities:val('capabilities')||'freeform abilities',
        constraints:val('constraints')||'rules & limits',
        deliverables:val('deliverables')||'freeform outputs',
        model:$('#model').value, tone:$('#tone').value
      };
      const txt=JSON.stringify(data,null,2);
      $('#prompt').value=txt; set($('#status'),'Prompt composed.');
      const q=encodeURIComponent("Turn this into a perfect universal agent instruction:\n\n"+txt);
      $('#openChat').href="https://chat.openai.com/?q="+q;
    });

    // Copy buttons
    document.addEventListener('click',(e)=>{
      const btn=e.target.closest('.copy'); if(!btn) return;
      const target=document.querySelector(btn.getAttribute('data-copy'));
      navigator.clipboard.writeText(target.value||target.textContent||'').then(()=>{
        const old=btn.textContent; btn.textContent='Copied!'; setTimeout(()=>btn.textContent=old,1200);
      });
    });

    // Preview (deterministic, no APIs)
    $('#previewBtn').addEventListener('click', ()=>{
      const biz=val('biz')||'Business', domain=val('domain')||'general';
      const outcome=val('outcome')||'Outcome', cap=val('capabilities')||'', cons=val('constraints')||'', del=val('deliverables')||'';
      const model=$('#model').value, tone=$('#tone').value;

      set($('#status'),'Generating preview…');

      // Summary
      set($('#sum'),`Business: ${biz} (${domain})
Outcome: ${outcome}
Model: ${model} • Tone: ${tone}
Capabilities: ${cap||'(freeform)'}
Constraints: ${cons||'(none)'}
Deliverables: ${del||'(freeform)'}
— Preview is locally generated (no external calls).`);

      // Steps (universal phases)
      const phases=[
        'Intent parsing & entity extraction',
        'Capability mapping → sub‑tasks',
        'Risk/constraint checks (compliance, fallbacks)',
        'Draft deliverables (UI/Flows/Docs/Mails)',
        'Review & iterate',
        'Export/Deploy'
      ];
      const stepsEl=$('#steps'); stepsEl.innerHTML='';
      phases.forEach(s=>{ const li=document.createElement('li'); li.textContent=s; stepsEl.appendChild(li); });

      // UI snippet (generic)
      const ui=`
<div class="p-4 rounded-xl border border-white/10 bg-black/20">
  <div class="text-2xl font-extrabold mb-1">${biz} — Agent</div>
  <p class="text-white/70 mb-3">${outcome}</p>
  <form class="grid gap-2">
    <input class="rounded-lg border border-white/10 bg-black/30 px-3 py-2" placeholder="Your request"/>
    <button class="inline-block rounded-lg px-4 py-2 font-semibold" style="background:linear-gradient(135deg,#2EF7D0,#86FFE8);color:#071523">Run Agent</button>
  </form>
</div>`;
      html($('#uiMount'),ui); $('#uiHtml').value=ui;

      // Doc draft
      html($('#doc'),`
<p><b>Purpose:</b> ${outcome}</p>
<p><b>Capabilities:</b> ${cap||'—'}</p>
<p><b>Constraints:</b> ${cons||'—'}</p>
<p><b>Deliverables:</b> ${del||'—'}</p>
<p><b>Review:</b> Validate inputs, handle fallbacks, log key events without storing PII.</p>`);

      $('#preview').classList.remove('hidden');
      set($('#status'),'Preview ready.');
    });

    // Save/Load
    const KEY='spec88_universal_agents_v1';
    const load=()=>{try{return JSON.parse(localStorage.getItem(KEY)||'[]')}catch{return[]}};
    const save=(a)=>localStorage.setItem(KEY,JSON.stringify(a));
    function paintSaved(){
      const list=load(); const wrap=$('#saved'); wrap.innerHTML='';
      if(list.length===0){ wrap.innerHTML='<div class="text-sm muted">No agents saved yet.</div>'; return;}
      list.forEach(a=>{
        const card=document.createElement('div'); card.className='glass rounded-xl p-3';
        card.innerHTML=`<div class="flex items-start justify-between gap-2">
          <div><div class="font-semibold">${a.name}</div><div class="text-xs muted">${a.model} • ${a.tone} • ${new Date(a.ts).toLocaleString()}</div></div>
          <div class="flex gap-2">
            <button data-id="${a.id}" class="load glass rounded-md px-2 py-1 text-xs hover:bg-white/10">Load</button>
            <button data-id="${a.id}" class="del glass rounded-md px-2 py-1 text-xs hover:bg-white/10">Delete</button>
          </div></div>
          <div class="mt-2 text-xs muted line-clamp-3">${(a.prompt||'').slice(0,220)}…</div>`;
        wrap.appendChild(card);
      });
    }
    $('#save').addEventListener('click', ()=>{
      const name=(val('biz')||'Agent')+' • '+($('#model').value);
      const item={id:uid(),ts:Date.now(),name,model:$('#model').value,tone:$('#tone').value,prompt:$('#prompt').value};
      const arr=load(); arr.unshift(item); save(arr); paintSaved();
    });
    document.addEventListener('click',(e)=>{
      if(e.target.matches('.del')){ const id=e.target.getAttribute('data-id'); save(load().filter(x=>x.id!==id)); paintSaved(); }
      if(e.target.matches('.load')){ const id=e.target.getAttribute('data-id'); const a=load().find(x=>x.id===id); if(a){ $('#prompt').value=a.prompt||''; window.scrollTo({top:0,behavior:'smooth'});} }
    });
    $('#clearAll').addEventListener('click', ()=>{ save([]); paintSaved(); });

    // Export
    $('#exportJson').addEventListener('click', ()=>{
      const data={ business:val('biz'), domain:val('domain'), contact:val('email'),
        outcome:val('outcome'), capabilities:val('capabilities'), constraints:val('constraints'), deliverables:val('deliverables'),
        model:$('#model').value, tone:$('#tone').value, prompt:$('#prompt').value };
      dl('spec88_universal_agent.json', JSON.stringify(data,null,2));
    });
    $('#exportHtml').addEventListener('click', ()=>{
      const bundle=`<!-- UI -->\n${$('#uiHtml').value||'<!-- no ui -->'}\n\n<!-- PLAN -->\n${$('#sum').textContent||''}`;
      dl('spec88_universal_outputs.html', bundle);
    });

    // init
    paintSaved();
  </script>
</body>
</html>
